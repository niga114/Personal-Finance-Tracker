class MiniQuery {
    constructor(selector) {
        this.elements = document.querySelectorAll(selector);
    }

    on(event, callback) {
        this.elements.forEach(el => el.addEventListener(event, callback));
        return this;
    }

    css(property, value) {
        this.elements.forEach(el => el.style[property] = value);
        return this;
    }

    html(content) {
        if (content !== undefined) {
            this.elements.forEach(el => el.innerHTML = content);
            return this;
        }
        return this.elements[0]?.innerHTML;
    }

    addClass(className) {
        this.elements.forEach(el => el.classList.add(className));
        return this;
    }

    removeClass(className) {
        this.elements.forEach(el => el.classList.remove(className));
        return this;
    }

    ajax({ url, method = 'GET', data = null, success, error }) {
        fetch(url, {
            method,
            headers: { 'Content-Type': 'application/json' },
            body: data ? JSON.stringify(data) : null
        })
        .then(response => response.json())
        .then(success)
        .catch(error);
    }
}

function $(selector) {
    return new MiniQuery(selector);
}
